---
title: 【GitHub】特定のブランチ名でしか作成させない！！
tags:
  - Git
  - GitHub
  - devops
  - 初心者
private: false
updated_at: '2025-06-30T19:11:54+09:00'
id: bf5a7e1816e7779cd2e0
organization_url_name: future-creation-factory
slide: false
ignorePublish: false
---
業務でGitHubリポジトリを新たに開設し、そのリポジトリに対し「ブランチ保護ルール」の設定を行いました。

「ブランチ保護ルール」にはいろいろな設定がありまた汎用性も高いです。
初めての設定だったこともあり、GitHubの設定画面をガチャガチャやりながらなんとか設定作業を行いました。

その中で、特につまづいたのが「ブランチ名パターン制限」でした。

同じく躓いている方のために「特定のブランチ名のみ許可する」設定方法について説明します。

## 前提
「ブランチ保護ルール」の設定は、リポジトリの管理者権限を持っていないとできないので、ご自身がリポジトリ管理者であることを確認しましょう。

また、今回設定する「ブランチ名パターン制限」は、GitHubのEnterpriseプランでしか有効にすることができないので注意してください。

## やりたいこと
やりたいこととしては下記のブランチ名のみ作成できるようにすることです。
- main
- development
- staging
- feature/123
- bugfix/123
※「123」の部分はIssue番号のみをつけるイメージとなります。

## 「ブランチ名パターン制限」設定方法
まずは「ブランチ保護ルール」を適用するリポジトリにアクセスし、そのリポジトリの「Setting」メニューをクリックします。

左のメニューから「Branches」をクリックし「Add branch ruleset」ボタンをクリックします。

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3733390/b4952ec5-a43c-4720-8110-42c573599c5e.png)

次に「Target branches」を設定します。
「Add target」プルダウンをクリックし「include all branches」を選択しましょう。

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3733390/ee85c98a-bb12-4a55-a121-efa581ea50cf.png)

続いて、下の方にある「Restrictions」欄の「Restrict Branch names」のチェックをONにし、「Add restriction」ボタンをクリックします。

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3733390/7d4b6cca-7818-4ff1-8a16-1e90545c8e8f.png)

「Add a metadata restriction」モーダルが表示されるので、下記をそれぞれ設定すれば完了です。
- Applies to：`Branch name`
- Requirement：`Must match a given regex pattern`
- Matching pattern：`^(main|development|staging|feature/[0-9]+|bugfix/[0-9]+)$`


![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3733390/84bd54a6-210f-42c9-8b34-539dac0fee64.png)

## 最後に
今思うと簡単だなーと感じるのですが、「ブランチ保護ルール」の設定が初めてということもあり、各設定項目の考え方を理解するのに少し時間がかかってしまいました。。

同じく困っている方のお役に立てれば光栄です。

以上です。


